<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> foreach</title>
    <script type="text/javascript" src="../js/knockout-3.4.0.debug.js"></script>
    <script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

    <link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.css.map">
    <link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap-theme.css.map">

</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <span>省</span>
                <select data-bind="options: province, optionsText: 'name',
                       value: provinceSelected,
                       optionsCaption: 'Choose...',event:{change:changePro}" class="form-control "></select>
            </div>
            <div class="col-md-4">
                <span>市</span>
                <select data-bind="options:city, optionsText: 'name',
                       value: citySelected,
                       optionsCaption: 'Choose...'" class="form-control "></select>
            </div>
        </div>

    </div>
    <script>
        function Model() {
            var self = this;
            self.citySelected=ko.observable();
            self.provinceSelected=ko.observable();
            self.province = ko.observableArray([{
                value: 1,
                name: 'jiangsu'
            }, {
                value: 2,
                name: 'zhejiang'
            }]);
            self.city = ko.observableArray();
            self.changePro = function(data, event) {
                var value = self.provinceSelected().value;
                if (value == 1) {
                    self.city([{
                        value: 1,
                        name: 'zuzhou'
                    }, {
                        value: 2,
                        name: 'taizhou'
                    }]);
                } else if (value == 2) {
                    self.city([{
                        value: 1,
                        name: 'huzhou'
                    }, {
                        value: 2,
                        name: 'hangzhou'
                    }]);
                }
            };


        }
        var model = new Model();
        ko.applyBindings(model);

    </script>
</body>


</html>
