<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title> foreach</title>
		<script type="text/javascript" src="../js/knockout-3.4.0.debug.js"></script>
		<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

		<link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.css">
		<link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap.css.map">
		<link rel="stylesheet" href="../js/bootstrap-3.3.5-dist/css/bootstrap-theme.css.map">

	</head>

	<body>
		<div class="container">
			<label>
				<input type="checkbox" data-bind="checked: displayMessage" /> Display message</label>

			<div data-bind="if: displayMessage()">Here is a message. Astonishing.</div>
			<ul data-bind="foreach: planets">
				<li>
					Planet: <b data-bind="text: name"> </b>
					<div data-bind="if: capital">
						Capital: <b data-bind="text: capital.cityName"> </b>
					</div>
				</li>
			</ul>
			<!--如果只是想用在其中一个li上做判断，那么就可以用虚节点做判断，这样只有第二个做判断，-->
			<ul>
				<li>This item always appears</li>
				<!-- ko if:displayMessage  -->
				<li>I want to make this item present/absent dynamically</li>
				<!-- /ko -->
			</ul>
		</div>

		<script>
			$(function() {});

			function Model() {
				var self = this;
				displayMessage = ko.observable(false);
				/*displayMessage = function() {
					return 0;
				}*/
				planets = ko.observableArray([{
					name: 'Mercury',
					capital: null
				}, {
					name: 'Earth',
					capital: {
						cityName: 'Barnsley'
					}
				}]);
			}
			var model = new Model();
			ko.applyBindings(model);
		</script>
	</body>

</html>